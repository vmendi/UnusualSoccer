<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="library://ns.adobe.com/flex/spark" 
				xmlns:mx="library://ns.adobe.com/flex/mx" 
				xmlns:Match="GameView.Match.*"
				autoDrawBackground="false" width="100%" height="51" xmlns:GameView="GameView.*" cacheAsBitmap="true" cachePolicy="on">
	
	<fx:Style source="../styles.css" />
	
	<fx:Script>
		<![CDATA[
			import SoccerServer.TransferModel.vo.CompetitionGroupEntry;
			
			private function InPromotion(theItem : Object) : Boolean
			{
				var item : CompetitionGroupEntry = theItem as CompetitionGroupEntry;
				
				return SoccerClient.GetMainGameModel().TheCompetitionModel.TheGroup.MinimumPoints <= item.Points;
			}
		]]>
	</fx:Script>
	
	<s:Graphic visible="{InPromotion(data)}">
		<s:Rect x="0" y="0" width="740" height="50" alpha="0.5">
			<s:fill>
				<s:SolidColor color="#3d5426" />
			</s:fill>
			<s:filters>
				<s:GlowFilter alpha="0.5" blurX="6.0" blurY="6.0" color="#000000" inner="true"
							  knockout="false" quality="2" strength="1"/>
			</s:filters>
		</s:Rect>
	</s:Graphic>
	<s:Graphic visible="{!InPromotion(data)}">
		<s:Rect x="0" y="0" width="740" height="50" alpha="0.5">
			<s:fill>
				<s:SolidColor color="#000000" />
			</s:fill>
			<s:filters>
				<s:GlowFilter alpha="0.5" blurX="6.0" blurY="6.0" color="#000000" inner="true"
							  knockout="false" quality="2" strength="1"/>
			</s:filters>
		</s:Rect>
	</s:Graphic>
	
	<s:Group width="100%" height="43">
		<s:layout><s:HorizontalLayout gap="0"/></s:layout>
		
		<s:BitmapImage source="@Embed(source='/Assets/General.swf', symbol='CompeticionDivisionUp')" fillMode="clip" visible="{InPromotion(data)}" />
		
		<GameView:FacebookPicture FacebookID="{data.FacebookID}" />
		
		<s:Group>
			<s:layout><s:VerticalLayout paddingTop="4" /></s:layout>
			<GameView:BadgeTeam TeamNameID="{data.PredefinedTeamNameID}" />
		</s:Group>
		
		<s:Group width="306" height="50">
			<s:layout><s:VerticalLayout paddingTop="7" gap="3"/></s:layout>
			<s:Label width="100%" text="{data.Name}" styleName="whiteBoldBig" maxDisplayedLines="1" toolTip="{data.Name}"/>
			<s:Label text="{resourceManager.getString('teams',data.PredefinedTeamNameID)}" styleName="greyBoldMedium"/>
		</s:Group>

		<s:Label width="60" height="50" styleName="whiteBoldBig" verticalAlign="middle" textAlign="center"
				 text="{data.Points}"/>
		<s:Label width="60" height="50" styleName="whiteBoldBig" verticalAlign="middle" textAlign="center"
				 text="{data.NumMatchesPlayed}"/>
		<s:Label width="60" height="50" styleName="whiteBoldBig" verticalAlign="middle" textAlign="center"
				 text="{data.NumMatchesWon}"/>
		<s:Label width="60" height="50" styleName="whiteBoldBig" verticalAlign="middle" textAlign="center"
				 text="{data.NumMatchesDraw}"/>
		<s:Label width="60" height="50" styleName="whiteBoldBig" verticalAlign="middle" textAlign="center"
				 text="{data.NumMatchesPlayed - data.NumMatchesWon - data.NumMatchesDraw}"/>
	</s:Group>
	
	<s:Graphic>
		<s:Line xFrom="0" xTo="740" yFrom="50" yTo="50">
			<s:stroke>
				<s:SolidColorStroke color="0x000000" weight="1"/>
			</s:stroke>
		</s:Line>
	</s:Graphic>
	
</s:ItemRenderer>
