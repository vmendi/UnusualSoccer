<?xml version="1.0" encoding="utf-8"?>

<configuration>
  
  <configSections>
    <section type="Facebook.FacebookConfigurationSection, Facebook" name="facebookSettings" allowLocation="true" allowDefinition="Everywhere" />
  </configSections>
  
  <!-- La cancelUrlPath hemos detectado que es la direccion adonde nos manda tras un "Don't allow". Puede que haya más cancelaciones. Si la dejas vacia, te manda a facebook.com -->
  <facebookSettings
      appId = "191393844257355"
      appSecret = "a06a6bf1080247ed87ba203422dcbb30"
      canvasPage = "http://apps.facebook.com/unusualsoccerdev"
      canvasUrl ="http://localhost/"
      secureCanvasUrl ="https://localhost/"
      cancelUrlPath = "Cancelled.aspx" 
      />
  
  <connectionStrings>
    <add name="SoccerV2ConnectionString" connectionString="Data Source=localhost;Initial Catalog=SoccerV2;Integrated Security=True" providerName="System.Data.SqlClient" />
  </connectionStrings>
  
  <system.web>
    <!-- Session identifiers for abandoned or expired sessions are recycled by default. That is, if a request is made that includes the session identifier for an expired or 
         abandoned session, a new session is started using the same session identifier. You can disable this by setting regenerateExpiredSessionId attribute of the sessionState 
       configuration element to true. -->
    <sessionState regenerateExpiredSessionId="true" />
    
    <compilation debug="true" targetFramework="4.0" />
    
    <pages clientIDMode="AutoID">
      <namespaces>
        <add namespace="Facebook.Web"/>
      </namespaces>
    </pages>
  </system.web>
  
  <system.webServer>
    
    <!-- Uso de la seccion system.webServer (Integrated Mode) en vez de la antigua system.web (Classic Mode) -->
    <!-- http://learn.iis.net/page.aspx/243/aspnet-integration-with-iis-7/ -->
    <handlers>
      <add name="weborb.aspx_*" verb="*" path="weborb.aspx" type="Weborb.ORBHttpHandler" />
      <add name="codegen.aspx_*" verb="*" path="codegen.aspx" type="Weborb.Management.CodeGen.CodegeneratorHttpHandler" />
      <!-- ADD THE LINE BELOW ONLY WITH WEBORB v. 4 -->
      <add name="dcd.aspx_*" verb="*" path="dcd.aspx" type="Weborb.RDS.Handler.FrontEndHttpHandler" />

      <add name="facebookredirect.axd" verb="*" path="facebookredirect.axd" type="Facebook.Web.FacebookAppRedirectHttpHandler, Facebook.Web" />
    </handlers>

    <staticContent>
      <clientCache cacheControlMode="DisableCache" />
    </staticContent>
    
  </system.webServer>
    
</configuration>